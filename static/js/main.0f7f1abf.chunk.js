(this.webpackJsonpRecipeSearch=this.webpackJsonpRecipeSearch||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(24),i=n.n(r),a=(n(30),n(19)),o=n(3),l=n(22),d=n(5),j=n(6),h=n(8),u=n(7),p=(n(31),n(0)),b=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(t){e.props.clearSearchResults(),e.props.addIngredient(JSON.parse(t.currentTarget.dataset.item))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("li",{"data-item":JSON.stringify(this.props.searchResult),onClick:this.handleClick,children:[Object(p.jsx)("img",{className:"ingredient-pic",src:"https://spoonacular.com/cdn/ingredients_100x100/"+this.props.searchResult.image,alt:this.props.searchResult.name}),Object(p.jsx)("span",{children:this.props.searchResult.name})]})}}]),n}(s.a.Component),O=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={searchResults:{}},c.searchIngredients=function(){var e=c.queryRef.current.value,t="https://api.spoonacular.com/food/ingredients/autocomplete?apiKey=".concat("540815f48fa1457791cc375205109fa9","&query=").concat(e,"&number=3");fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),c.setState({searchResults:e})}))},c.clearSearchResults=function(){console.log("hello");c.setState({searchResults:{}})},c.handleKeyDown=function(e){"Enter"===e.key&&e.currentTarget.dataset.item&&(c.props.addIngredient(JSON.parse(e.currentTarget.dataset.item)),c.clearSearchResults(),e.currentTarget.value="")},c.queryRef=s.a.createRef(),c}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.state.searchResults,n=t.length?JSON.stringify(t[Object.keys(t)[0]]):"";return Object(p.jsxs)("div",{className:"search",children:[Object(p.jsx)("input",{type:"text","data-item":n,ref:this.queryRef,onKeyDown:this.handleKeyDown,onChange:this.searchIngredients,className:"search-ingredient",placeholder:"Search ingredient"}),Object(p.jsx)("ul",{className:"search-results",children:Object.keys(t).map((function(n){return Object(p.jsx)(b,{searchResult:t[n],addIngredient:e.props.addIngredient,clearSearchResults:e.clearSearchResults},t[n].name)}))})]})}}]),n}(s.a.Component),g=n(12),m=n(13),f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(t){t.preventDefault(),e.props.history.push("/recipes/".concat(t.currentTarget.dataset.id))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.recipe,t=e.title,n=e.image,c=e.usedIngredients,s=e.id;return Object(p.jsxs)("div",{className:"card-product",children:[Object(p.jsxs)("a",{href:"",onClick:this.handleClick,className:"go-to-recipe","data-id":s,children:[Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.d})}),Object(p.jsx)("img",{src:n})]}),Object(p.jsxs)("div",{className:"card-product-infos",children:[Object(p.jsx)("h2",{children:t}),Object(p.jsx)("ul",{className:"recipe-ingredients",children:Object.keys(c).map((function(e){return Object(p.jsx)("li",{children:c[e].name},c[e].name)}))})]})]})}}]),n}(s.a.Component),x=Object(o.f)(f),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.recipes;return Object.keys(t).length,Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h2",{children:"Recipes"}),Object(p.jsx)("div",{className:"found-recipes",children:Object.keys(t).map((function(n){return Object(p.jsx)(x,{getRecipeInfo:e.props.getRecipeInfo,recipe:t[n]},n)}))})]})}}]),n}(s.a.Component),y=function(){return Object(p.jsx)("header",{className:"top",children:Object(p.jsx)("a",{href:"/",children:Object(p.jsx)("h1",{children:"RecipeFinder"})})})},R=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){if(console.log("render ingredient"),this.props.ingredient)return Object(p.jsxs)("li",{className:"ingredient",children:[Object(p.jsx)("img",{className:"ingredient-pic",src:"https://spoonacular.com/cdn/ingredients_100x100/"+this.props.ingredient.image}),Object(p.jsx)("span",{children:this.props.ingredient.name}),Object(p.jsx)("span",{className:"Remove",onClick:this.props.removeIngredient,"data-item":this.props.ingredient.name,children:"-"})]})}}]),n}(s.a.Component),k=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.ingredients;return console.log("render ingredients"),0===Object.keys(t).length?Object(p.jsx)("span",{className:"message",children:"Add some ingredients to find recipes!"}):Object(p.jsx)("ul",{className:"selected-ingredients",children:Object.keys(t).map((function(n){return e.props.ingredients[n]?Object(p.jsx)(R,{ingredient:t[n],removeIngredient:e.props.removeIngredient},t[n].name):""}))})}}]),n}(s.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={checkboxValue:!1},c.toggleCheckboxValue=function(){c.setState({checkboxValue:!c.state.checkboxValue})},c.handleSubmit=function(e){e.preventDefault(),c.props.loadRecipes(c.ignorePantryRef.current.value)},c.ignorePantryRef=s.a.createRef(),c}return Object(j.a)(n,[{key:"render",value:function(){return 0===Object.keys(this.props.ingredients).length?null:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"check",children:[Object(p.jsx)("input",{name:"ignorePantry",ref:this.ignorePantryRef,type:"checkbox",placeholder:"ignorePantry",value:this.state.checkboxValue,onChange:this.toggleCheckboxValue}),Object(p.jsxs)("label",{htmlFor:"ignorePantry",children:[" ","ignore typical pantry items, such as water, salt, flour, etc."]})]}),Object(p.jsx)("button",{type:"submit",children:"Load Recepies"})]})}}]),n}(s.a.Component),S=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={ingredients:{},recipes:{},favorites:{}},e.addIngredient=function(t){var n=Object(l.a)({},e.state.ingredients);if(n[t.name])return null;n[t.name]=t,e.setState({ingredients:n})},e.removeIngredient=function(t){var n=Object(l.a)({},e.state.ingredients);delete n[t.currentTarget.dataset.item],e.setState({ingredients:n})},e.loadRecipes=function(t){var n=Object.keys(e.state.ingredients).map((function(e){return e})).join(",+"),c="https://api.spoonacular.com/recipes/findByIngredients?apiKey=".concat("540815f48fa1457791cc375205109fa9","&ingredients=").concat(n,"&number=").concat(40,"&ignorePantry=").concat(t);fetch(c).then((function(e){return e.json()})).then((function(t){e.setState({recipes:t})}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("ingredients"),t=localStorage.getItem("recipes");e&&this.setState({ingredients:JSON.parse(e)}),t&&this.setState({recipes:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("ingredients",JSON.stringify(this.state.ingredients)),localStorage.setItem("recipes",JSON.stringify(this.state.recipes))}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"recipe-app",children:[Object(p.jsx)(y,{}),Object(p.jsxs)("div",{className:"flex-container",children:[Object(p.jsx)("div",{className:"sidebar",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h2",{children:"Ingredients"}),Object(p.jsx)(O,{addIngredient:this.addIngredient}),Object(p.jsx)(k,{ingredients:this.state.ingredients,removeIngredient:this.removeIngredient}),Object(p.jsx)(N,{loadRecipes:this.loadRecipes,ingredients:this.state.ingredients})]})}),Object(p.jsx)("div",{className:"main-content",children:Object(p.jsx)(v,{getRecipeInfo:this.getRecipeInfo,recipes:this.state.recipes})})]})]})}}]),n}(s.a.Component),I=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:"Not found"})})},C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={selectedRecipe:{}},e.getRecipeInfo=function(t){var n="https://api.spoonacular.com/recipes/".concat(t,"/information?apiKey=").concat("540815f48fa1457791cc375205109fa9");fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({selectedRecipe:t})}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getRecipeInfo(this.props.match.params.recipeId)}},{key:"render",value:function(){var e=this,t=this.state.selectedRecipe,n=t.title,c=t.summary,s=t.image,r=t.readyInMinutes,i=t.servings,a=t.spoonacularScore,o=t.vegetarian,l=t.vegan,d=t.extendedIngredients,j=t.instructions;return void 0===this.state.selectedRecipe||void 0===d?null:Object(p.jsxs)("div",{className:"recipe-app detail",children:[Object(p.jsx)(y,{}),Object(p.jsxs)("div",{className:"recipe-header",children:[Object(p.jsx)("button",{onClick:function(){return e.props.history.push("/")},children:"Go back"}),Object(p.jsx)("br",{})]}),Object(p.jsxs)("div",{className:"recipe-intro",children:[Object(p.jsx)("div",{className:"sidebar-detail",children:Object(p.jsxs)("ul",{className:"info",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.a})}),"Ready in ",r," minutes"]}),Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.f})}),i," servings"]}),o?Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.c})}),"Vegetarian"]}):"",l?Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.b})}),"vegan"]}):"",Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("span",{children:Object(p.jsx)(g.a,{icon:m.e})}),a,"/100"]})]})}),Object(p.jsxs)("div",{className:"details",children:[Object(p.jsx)("img",{src:s}),Object(p.jsx)("h3",{children:"Ingredients:"}),Object(p.jsx)("ul",{className:"detailed-ingredients",children:Object.keys(d).map((function(e){return Object(p.jsx)("li",{children:Object(p.jsxs)("p",{children:[d[e].measures.metric.amount,d[e].measures.metric.unitShort," of"," ",Object(p.jsx)("span",{className:"strong\xa0",children:d[e].name})]})},d[e].name)}))})]}),Object(p.jsxs)("div",{className:"desc",children:[Object(p.jsx)("h2",{children:n}),Object(p.jsx)("p",{dangerouslySetInnerHTML:{__html:c}}),Object(p.jsxs)("span",{className:"instructions",children:[Object(p.jsx)("h3",{children:"Instructions"}),Object(p.jsx)("p",{dangerouslySetInnerHTML:{__html:j}})]})]})]})]})}}]),n}(s.a.Component),w=function(){return Object(p.jsx)(a.a,{basename:"/RecipeSearch",children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",component:S}),Object(p.jsx)(o.a,{exact:!0,path:"/recipes/:recipeId",component:C}),Object(p.jsx)(o.a,{component:I})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),J()}},[[40,1,2]]]);
//# sourceMappingURL=main.0f7f1abf.chunk.js.map